(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{290:function(t,e,n){"use strict";n.r(e);n(80);var r=n(9),l=n(81),o={layout:"gapana",data:function(){return{latitude:"",longitude:"",jenisposko:"",showLoading:!1,submittingMsg:"Sedang menambahkan data...",isSubmitting:!1,successSubmitMsg:"Berhasil menambahkan data !!",isSuccess:!1,isFailed:!1,failedSubmitMsg:""}},methods:{addData:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e,n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.isSubmitting=!0,this.isSuccess=!1,this.isFailed=!1,e=l.b.collection("posko"),n={latitude:this.latitude,longitude:this.longitude,type:this.jenisposko},t.next=7,e.add(n).then(function(){r.isSubmitting=!1,r.isFailed=!1,r.isSuccess=!0,latitude="",longitude="",jenisposko=""}).catch(function(t){alert(t),console.log(t),r.isSuccess=!1,r.isSubmitting=!1,r.isFailed=!0,r.failedSubmitMsg=t});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},d=n(8),component=Object(d.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",[t._v("Tambahkan Titik Evakuasi Baru")]),t._v(" "),n("br"),t._v(" "),t.isSubmitting?n("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[t._v("\n      "+t._s(t.submittingMsg)+"\n    ")]):t.isSuccess?n("div",{staticClass:"alert alert-success alert-dismissible fade show",attrs:{role:"alert"}},[t._v("\n        "+t._s(t.successSubmitMsg)+"\n        "),t._m(0)]):t.isFailed?n("div",{staticClass:"alert alert-danger alert-dismissible fade show",attrs:{role:"alert"}},[t._v("\n        "+t._s(t.failedSubmitMsg)+"\n        "),t._m(1)]):t._e(),t._v(" "),n("form",{on:{submit:function(e){return e.preventDefault(),t.addData(e)}}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"latitude"}},[t._v("Latitude")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.latitude,expression:"latitude",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"decimal",required:"",id:"latitude",placeholder:"Masukkan Latitude"},domProps:{value:t.latitude},on:{input:function(e){e.target.composing||(t.latitude=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),t.latitude<-90||t.latitude>90?n("small",{staticClass:"form-text text-danger"},[t._v("Nilai Latitude harus antara -90 dan 90")]):t._e()]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"longitude"}},[t._v("Longitude")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.longitude,expression:"longitude",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"decimal",required:"",id:"longitude",placeholder:"Masukkan Longitude"},domProps:{value:t.longitude},on:{input:function(e){e.target.composing||(t.longitude=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),t.latitude<-180||t.latitude>180?n("small",{staticClass:"form-text text-danger"},[t._v("Nilai Longitude harus antara -180 dan 180")]):t._e()]),t._v(" "),n("label",{attrs:{for:"jenis-posko"}},[t._v("Jenis Posko Evakuasi")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.jenisposko,expression:"jenisposko"}],staticClass:"custom-select custom-select-lg mb-3",attrs:{required:"",id:"jenis-posko"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.jenisposko=e.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Pilih salah satu")]),t._v(" "),n("option",{attrs:{value:"Tsunami"}},[t._v("Tsunami")]),t._v(" "),n("option",{attrs:{value:"Gempa"}},[t._v("Gempa")]),t._v(" "),n("option",{attrs:{value:"Banjir"}},[t._v("Banjir")])]),t._v(" "),n("button",{staticClass:"btn btn-success",attrs:{disabled:""==t.latitude||""==t.longitude||""==t.jenisposko,type:"submit"}},[t._v("Tambahkan Titik Evakuasi Baru")])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}],!1,null,null,null);e.default=component.exports}}]);